# 🔑 API密钥配置指南

## 🎉 当前状态：已预配置演示密钥

你的小奕畅聊应用已经预配置了演示API密钥，可以直接使用！

## 🔒 安全说明

### ⚠️ 重要提醒
- 当前使用的是演示密钥，所有用户共享使用
- 该密钥可能会有使用限制或被暂停
- 为了更好的体验和隐私保护，建议配置自己的API密钥

### 🛡️ 隐私保护
- 用户输入的对话内容会发送到OpenRouter进行处理
- 不建议在演示版本中输入敏感信息
- 使用自己的API密钥可获得完全的隐私控制

## 🔧 配置自己的API密钥

### 1. 获取OpenRouter API密钥

1. **注册OpenRouter账户**
   - 访问 [OpenRouter.ai](https://openrouter.ai)
   - 使用邮箱或Google账号注册

2. **获取API密钥**
   - 登录后进入仪表板
   - 点击 "API Keys" 或"密钥"
   - 创建新的API密钥
   - 复制密钥（以 `sk-or-v1-` 开头）

3. **充值账户**
   - OpenRouter采用按使用量计费
   - 建议充值 $5-10 用于测试
   - DeepSeek R1模型价格相对便宜

### 2. 在应用中配置密钥

1. **打开设置**
   - 点击右上角齿轮图标 ⚙️
   - 设置面板从右侧滑出

2. **输入密钥**
   - 在 "OpenRouter API Key" 输入框中粘贴你的密钥
   - 密钥会自动隐藏显示（安全考虑）

3. **保存设置**
   - 点击 "保存" 按钮
   - 看到成功提示后即可使用

### 3. 验证配置

- 发送一条测试消息
- 如果收到AI回复，说明配置成功
- 如果出现错误，检查密钥是否正确

## 🎛️ 高级配置

### 自定义配置文件

你可以修改 `config.js` 文件来自定义默认设置：

```javascript
const APP_CONFIG = {
    // 是否启用默认密钥
    ENABLE_DEFAULT_KEY: true,
    
    // 默认API密钥
    DEFAULT_API_KEY: '你的密钥',
    
    // 是否显示演示通知
    SHOW_DEMO_NOTICE: true,
    
    // 是否允许用户覆盖默认密钥
    ALLOW_KEY_OVERRIDE: true
};
```

### 部署时的配置选择

#### 🏠 个人使用
- 直接在 `config.js` 中设置你的密钥
- 设置 `ENABLE_DEFAULT_KEY: true`

#### 👥 公开分享
- 使用演示密钥或不设置默认密钥
- 设置 `ENABLE_DEFAULT_KEY: false`
- 让用户自己输入密钥

#### 🏢 企业内部
- 统一配置企业API密钥
- 设置 `ALLOW_KEY_OVERRIDE: false` 禁止修改

## 📊 使用量监控

### OpenRouter仪表板
- 登录 [OpenRouter.ai](https://openrouter.ai)
- 查看 "Usage" 或"使用量"页面
- 监控API调用次数和费用

### 成本预估
- DeepSeek R1: 约 $0.55/1M tokens（输入）
- 一般对话每轮消耗 100-500 tokens
- $5 可支持数千轮对话

## 🔧 故障排除

### 常见错误

#### "API密钥无效"
- 检查密钥是否完整复制
- 确认密钥以 `sk-or-v1-` 开头
- 验证OpenRouter账户状态

#### "余额不足"
- 检查OpenRouter账户余额
- 进行充值操作

#### "请求被拒绝"
- 可能触发了安全限制
- 稍后重试或联系OpenRouter支持

### 获取帮助

1. **查看浏览器控制台**
   - 按F12打开开发者工具
   - 查看Console标签的错误信息

2. **OpenRouter支持**
   - 访问OpenRouter帮助中心
   - 发送邮件到support@openrouter.ai

3. **应用相关问题**
   - 检查网络连接
   - 确认浏览器兼容性
   - 清除浏览器缓存后重试

## 🎯 最佳实践

1. **定期检查使用量**，避免意外费用
2. **不要分享API密钥**，保护账户安全
3. **为不同项目创建不同密钥**，便于管理
4. **设置合理的使用限制**，控制成本
5. **定期轮换密钥**，提升安全性

现在你可以安全地使用小奕畅聊进行AI对话了！🚀
